(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8d2e6286"],{1276:function(t,e,n){"use strict";var i=n("d784"),r=n("44e7"),a=n("825a"),o=n("1d80"),s=n("4840"),c=n("8aa5"),l=n("50c4"),u=n("14c3"),h=n("9263"),p=n("d039"),d=[].push,f=Math.min,m=4294967295,g=!p((function(){return!RegExp(m,"y")}));i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(o(this)),a=void 0===n?m:n>>>0;if(0===a)return[];if(void 0===t)return[i];if(!r(t))return e.call(i,t,a);var s,c,l,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,g=new RegExp(t.source,p+"g");while(s=h.call(g,i)){if(c=g.lastIndex,c>f&&(u.push(i.slice(f,s.index)),s.length>1&&s.index<i.length&&d.apply(u,s.slice(1)),l=s[0].length,f=c,u.length>=a))break;g.lastIndex===s.index&&g.lastIndex++}return f===i.length?!l&&g.test("")||u.push(""):u.push(i.slice(f)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=o(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,r,n):i.call(String(r),e,n)},function(t,r){var o=n(i,t,this,r,i!==e);if(o.done)return o.value;var h=a(t),p=String(this),d=s(h,RegExp),v=h.unicode,w=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(g?"y":"g"),A=new d(g?h:"^(?:"+h.source+")",w),b=void 0===r?m:r>>>0;if(0===b)return[];if(0===p.length)return null===u(A,p)?[p]:[];var C=0,x=0,E=[];while(x<p.length){A.lastIndex=g?x:0;var k,y=u(A,g?p:p.slice(x));if(null===y||(k=f(l(A.lastIndex+(g?0:x)),p.length))===C)x=c(p,x,v);else{if(E.push(p.slice(C,x)),E.length===b)return E;for(var F=1;F<=y.length-1;F++)if(E.push(y[F]),E.length===b)return E;x=C=k}}return E.push(p.slice(C)),E}]}),!g)},"14c3":function(t,e,n){var i=n("c6b6"),r=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var a=n.call(t,e);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},6547:function(t,e,n){var i=n("a691"),r=n("1d80"),a=function(t){return function(e,n){var a,o,s=String(r(e)),c=i(n),l=s.length;return c<0||c>=l?t?"":void 0:(a=s.charCodeAt(c),a<55296||a>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?t?s.charAt(c):a:t?s.slice(c,c+2):o-56320+(a-55296<<10)+65536)}};t.exports={codeAt:a(!1),charAt:a(!0)}},"8aa5":function(t,e,n){"use strict";var i=n("6547").charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},"99af":function(t,e,n){"use strict";var i=n("23e7"),r=n("d039"),a=n("e8b5"),o=n("861d"),s=n("7b0b"),c=n("50c4"),l=n("8418"),u=n("65f0"),h=n("1dde"),p=n("b622"),d=n("2d00"),f=p("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=d>=51||!r((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),w=h("concat"),A=function(t){if(!o(t))return!1;var e=t[f];return void 0!==e?!!e:a(t)},b=!v||!w;i({target:"Array",proto:!0,forced:b},{concat:function(t){var e,n,i,r,a,o=s(this),h=u(o,0),p=0;for(e=-1,i=arguments.length;e<i;e++)if(a=-1===e?o:arguments[e],A(a)){if(r=c(a.length),p+r>m)throw TypeError(g);for(n=0;n<r;n++,p++)n in a&&l(h,p,a[n])}else{if(p>=m)throw TypeError(g);l(h,p++,a)}return h.length=p,h}})},a15b:function(t,e,n){"use strict";var i=n("23e7"),r=n("44ad"),a=n("fc6a"),o=n("a640"),s=[].join,c=r!=Object,l=o("join",",");i({target:"Array",proto:!0,forced:c||!l},{join:function(t){return s.call(a(this),void 0===t?",":t)}})},a43a:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEDklEQVRYR8VX7WtbZRQ/v+fedHUvOuzqJjLq0A0dKubFr9pPgl/ECbFJXda8jKxJLQw/+NX8B4q6tIbmpW5rwwIKA0H8IEPwk9kNMqbIhi+b6EonVZptaXLvc+SmZuTlJjetc71fz3PO73fO8zvnPBe0ic83EXuVgCNEPMpMOgR9RZI+z8/PnN9oOGzEwR+eeoOljBDRy138voQQ6cXMqXP9xu2LgD8UmyBGmIlf7CcwCF8TOLOYnZm3O9+VwGgioe799UYEDDPjF+wCdbF/y+D00si+9IVEQrc600HAG4/vFLcpQiQjIDy7SeAWNya+RCTScjulC8lkudl4l4A3FBpWeDBMZILTwXsBbBHjChGlDVQyhWx22bTXCfiCkwkimOD7/yfg9rDXiTiTz80mMBaMfQCi6fsE3ArD/B58wRhvCfg66IWtr8CWa6BR/i3tgmYNbNkcaBfifZ2E4xMxNym0spCZ+cmqI+71LjgaiT9Z1eXec/Oz35hd4AXxYROYiX6UiigW0smrlkT+4zYcOzZ1SIDdDHloHQ/fwxecfLcdDEw/QEGxW0U2+h5oB27ZBW+GThyWEq8waGdH1pIvk0Axn5v9ZTPDqhcwE1ZVyC/quyAcfmdXWS97INgD4u3tYEzikjT0YuF06lo/ROyABejiLaxp5zOZ1ZZ17I1GH1LWHB6C9BDxYDuYJHznqNWKZ8/O/WZFZCPADX/LB4k3EnlYNVQ3sfAweKBDIyQ0FuJiPvPR76ZtM8AtBLyh6eHlkaGV9leL3x/dg0HhNqTwAFLtyJpxkwUDTEOd14bV5lI326PRqGOlqg4Vcskb8IdiLzHzKJjKBguN7+haoZD6u9nhSGDykQEH3JDsISLRSwemuLoBB4Mnd6+h4iJJTlP0AOrb8G0Q72oEZcJtsNRETWgLCzMrLWM6GN+nMLsJdSItXy9gfzS6R66pLoCdzdoCizt3K9CZFSogqVWkqn32yak/m+2BQGBHTdkxzCSGoUidWF16UK0up1KpWvO5149GH1VVOMGK0+oK6xUwHcaDJw5KKC5i+VTnUELVEKwxObRC9sP6O87u84Xi+0myk+oZW6RmDjpwaSH38ZWWLhibmH6CoLsao7nZlVnoxKyJgZq2ODe3ZBXYGzh+QCgDTpC0fE2vz5NqqXB67ufebXj8rQNqTXcx6BkLIEkMTTUM7cyZ1B+NCjLDFNbTltVhlEiglM8mr3dUuFc5xyNTI5INU7XPdQncvQ1Z6AyjpOtc+vRfopbXYXefpt28Uya4wMbz9udRYUZJbNO1xVTqpt35vv4NG0G8xyYfU4VwMUlXp1ipTIJK23hQy+Xe/8sOuKcG7JxfC57c7aDq4wIYUZhqhqSrD4hb13K5XMXOt93+D9gKJjZZT3cxAAAAAElFTkSuQmCC"},ab6c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABYklEQVRYR+2WMUvDQBiG3+9SJzdxcFMHwcVFEHUQ6qTg7ii4tdFBTbu18WjmFEFIHQuCgzo46Fw3/QU6ONgfYu4koUKqae6KHi6XKeR7776HJ7nwEXKuas3fISFW8mo6zxwqXZ+H/EUnS99Drtd8BrCqs7goIyXtdtqtG9U+QwCVIz7HnPhdtUi3rgMxDFBrlJmkXtIgCoMfdooauycNDqLTQeYNwEJyr4IwAiAoXmLSuQcwq4IwApDYO6jzZSniBwAzRRDGAJKm1ePmBmO4k8DUKAijAElTt863IT5uAZrMgzACIEhuZj9YJjEN0BWACQm67IStva+6EQDVMc2esD8DSN+51+wRUP43AN3/hDEDFsAasAasAWvAGrAGrIFfGzj0+KJA/JpOr8CjarQatz4Y1/pRGMznDqXpGO35T4BcG3dz7bzEftQOuiMBkkLF87eYFOvam2oGhSh1L854Pxv/BBfqRTDAIiRKAAAAAElFTkSuQmCC"},b0c0:function(t,e,n){var i=n("83ab"),r=n("9bf2").f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/,c="name";i&&!(c in a)&&r(a,c,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},d784:function(t,e,n){"use strict";n("ac1f");var i=n("6eeb"),r=n("d039"),a=n("b622"),o=n("9263"),s=n("9112"),c=a("species"),l=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),h=a("replace"),p=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),d=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,h){var f=a(t),m=!r((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),g=m&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!m||!g||"replace"===t&&(!l||!u||p)||"split"===t&&!d){var v=/./[f],w=n(f,""[t],(function(t,e,n,i,r){return e.exec===o?m&&!r?{done:!0,value:v.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),A=w[0],b=w[1];i(String.prototype,t,A),i(RegExp.prototype,f,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}h&&s(RegExp.prototype[f],"sham",!0)}},d888:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex flex-col h-full"},[i("div",{staticClass:"h-12 flex-none flex items-center justify-between text-lg font-blod pl-2 border-b shadow"},[i("div",{staticClass:"flex items-center text-indigo-500 pr-3 pl-1"},[i("img",{staticClass:"h-4 mr-2",attrs:{src:n("a43a")}}),i("a-breadcrumb",[i("a-breadcrumb-item",[i("router-link",{staticClass:"link",attrs:{to:"/"+t.repo}},[t._v(" "+t._s(t.repo)+" ")])],1),t._l(t.paths,(function(e,n){return i("a-breadcrumb-item",{key:n},[i("router-link",{staticClass:"link",attrs:{to:e.path}},[t._v(" "+t._s(e.name)+" ")])],1)}))],2)],1),i("div",[i("a-button",{staticClass:"mr-2",on:{click:t.getContents}},[t._v("刷新")]),i("a-button",{staticClass:"mr-2",attrs:{type:"primary"},on:{click:function(e){t.showUpload=!t.showUpload}}},[t._v(" 上传文件 ")]),i("a-button",{staticClass:"mr-2",attrs:{type:"danger"},on:{click:function(e){return t.clickFile({})}}},[t._v(" 新建文件 ")]),i("a-dropdown",[i("a-avatar",{staticClass:"shadow mr-2",attrs:{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"},on:{click:function(t){return t.preventDefault()}}}),i("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[i("a-menu-item",[i("a",{attrs:{href:"https://github.com/"+t.owner,target:"_blank"}},[t._v(" "+t._s(t.owner)+" ")])]),i("a-menu-item",[i("div",{on:{click:t.outLogin}},[t._v("退出")])])],1)],1)],1)]),i("overlay-scrollbars",{staticClass:"flex-1"},[i("a-list",{attrs:{"item-layout":"horizontal","data-source":t.list},scopedSlots:t._u([{key:"renderItem",fn:function(e){return i("a-list-item",{staticStyle:{height:"45px"}},["dir"===e.type?i("div",{staticClass:"flex items-center px-3"},[i("img",{staticClass:"h-4 mr-2",attrs:{src:n("ed24")}}),i("router-link",{staticClass:"link",attrs:{to:"/"+t.repo+"/"+e.path}},[t._v(" "+t._s(e.name)+" ")])],1):i("div",{staticClass:"flex items-center px-3"},[i("img",{staticClass:"h-4 mr-2",attrs:{src:n("ab6c")}}),i("div",{staticClass:"link",on:{click:function(n){return t.clickFile(e)}}},[t._v(t._s(e.name))])]),"file"===e.type?i("div",{staticClass:"text-sm text-red-600 cursor-pointer",attrs:{slot:"actions"},on:{click:function(n){return t.delFile(e)}},slot:"actions"},[t._v(" 删除 ")]):t._e()])}}])})],1),i("editor",{attrs:{show:t.showEdit,item:t.item}}),i("upload",{attrs:{show:t.showUpload,item:t.item}})],1)},r=[],a=(n("99af"),n("a15b"),n("ac1f"),n("1276"),n("5530")),o=n("2f62"),s=n("be65"),c=n.n(s),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-modal",{staticClass:"modal-body-p-0",attrs:{title:"编辑",visible:t.visible,"confirm-loading":t.confirmLoading,okText:"提交",cancelText:"取消",centered:!0,maskClosable:!1,keyboard:!1,width:800},on:{ok:t.handleOk,cancel:t.handleCancel}},[n("a-spin",{attrs:{spinning:t.spinning}},[n("div",{staticClass:"flex flex-col",staticStyle:{height:"75vh"}},[n("a-input",{staticClass:"border-none px-6 my-1",attrs:{placeholder:"地址"},model:{value:t.newFilePath,callback:function(e){t.newFilePath=e},expression:"newFilePath"}}),n("iframe",{ref:"aceEditor",staticClass:"flex-1 w-full",attrs:{src:"https://ace520.github.io/ace?theme=twilight&fontSize=15&mode="+t.mode,frameborder:"no",border:"0",marginwidth:"0",marginheight:"0",scrolling:"no",allowtransparency:"yes"}})],1)])],1)],1)},u=[],h=(n("b0c0"),n("f43e")),p={name:"editor",props:["item","show"],data:function(){return{visible:!1,confirmLoading:!1,content:"",newFilePath:"",newItem:{},mode:"",spinning:!1}},watch:{show:function(){this.spinning=!0,this.visible=!0}},mounted:function(){var t=this;window.addEventListener("message",(function(e){var n=e.data;switch(console.log(n),n.method){case"change":t.content=n.content;break;case"setValue":t.spinning=!1;break;case"onload":t.newItem=t.item,t.newFilePath=void 0!=t.newItem.path?t.newItem.path:t.newItem.dir+"/",t.getContent();break}}),!1)},methods:{handleOk:function(){var t=this;this.confirmLoading=!0,this.octokit.request("PUT /repos/{owner}/{repo}/contents/{path}",{owner:this.owner,repo:this.newItem.repo,path:this.newFilePath,message:"put content",content:Object(h["encode"])(this.content),sha:this.newItem&&this.newItem.sha?this.newItem.sha:""}).then((function(){t.visible=!1,t.confirmLoading=!1}))},handleCancel:function(){this.visible=!1},getContent:function(){var t=this;this.newItem&&this.newItem.name?this.octokit.request("GET /repos/{owner}/{repo}/contents/{path}",{owner:this.owner,repo:this.newItem.repo,path:this.newItem.path}).then((function(e){var n=Object(h["decode"])(e.data.content);t.setContent(n)})):this.setContent("")},setContent:function(t){this.$refs.aceEditor.contentWindow.postMessage({method:"setValue",content:t},"*")}},computed:Object(a["a"])({},Object(o["b"])(["owner"]))},d=p,f=n("2877"),m=Object(f["a"])(d,l,u,!1,null,null,null),g=m.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-modal",{attrs:{title:"上传文件",visible:t.visible,"confirm-loading":t.confirmLoading,okText:"上传",cancelText:"取消",centered:!0,maskClosable:!1,keyboard:!1},on:{ok:t.handleOk,cancel:t.handleCancel}},[n("a-input-search",{attrs:{placeholder:"file path",size:"large"},on:{search:t.addFile},model:{value:t.newFilePath,callback:function(e){t.newFilePath=e},expression:"newFilePath"}},[n("a-button",{attrs:{slot:"enterButton"},slot:"enterButton"},[t._v(" 选择文件 ")])],1),n("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:function(e){return t.getFile(e)}}})],1)],1)},w=[],A={name:"upload",props:["show","item"],data:function(){return{visible:!1,confirmLoading:!1,newFilePath:"",content:""}},watch:{show:function(){this.newFilePath=this.item.dir+"/",this.visible=!0}},mounted:function(){},methods:{addFile:function(){this.$refs.file.click()},getFile:function(t){var e=t.target.files[0];this.newFilePath=this.newFilePath+e.name;var n=this;this.getFileBase64(e,(function(t){n.content=t}))},handleOk:function(){var t=this;this.confirmLoading=!0,this.octokit.request("PUT /repos/{owner}/{repo}/contents/{path}",{owner:this.owner,repo:this.item.repo,path:this.newFilePath,message:"put content",content:this.content}).then((function(e){if(e.data.error)return t.$message.error(e.data.error),!1;t.$message.success("上传成功"),t.visible=!1,t.confirmLoading=!1}))},handleCancel:function(){this.visible=!1},getFileBase64:function(t,e){var n=new FileReader;n.readAsDataURL(t),n.onload=function(t){"function"===typeof e&&e(t.target.result.split(",").pop())}}},computed:Object(a["a"])({},Object(o["b"])(["owner"]))},b=A,C=Object(f["a"])(b,v,w,!1,null,null,null),x=C.exports,E={components:{Editor:g,Upload:x},data:function(){return{repo:"",path:"",list:[],showUpload:!1,showEdit:!1,item:{}}},watch:{$route:function(t){this.initPath(t)}},mounted:function(){this.initPath(this.$route)},methods:{clickFile:function(t){t.path?(this.item=t,this.item.repo=this.repo):this.item={repo:this.repo,dir:this.path},this.showEdit=!this.showEdit},delFile:function(t){var e=this;this.$confirm({title:"是否确定要删除此文件吗？",content:t.path,okText:"删除",okType:"danger",cancelText:"取消",centered:!0,onOk:function(){return e.octokit.request("DELETE /repos/{owner}/{repo}/contents/{path}",{owner:e.owner,repo:e.repo,path:t.path,message:"DELETE",sha:t.sha}).then((function(t){if(t.data.error)return e.$message.error(t.data.error),!1;e.$message.success("删除成功")}))},onCancel:function(){}})},getContents:function(){var t=this;this.list=[],this.octokit.request("GET /repos/{owner}/{repo}/contents/{path}",{owner:this.owner,repo:this.repo,path:this.path}).then((function(e){for(var n=[],i=[],r=0;r<e.data.length;r++)"dir"==e.data[r].type?n.push(e.data[r]):i.push(e.data[r]);t.list=n.concat(i)}))},initPath:function(t){var e=t.params.repo,n=t.params.pathMatch;void 0==e&&(e=n,n=""),this.repo=e,this.path=n,this.item={repo:e,dir:n},this.getContents()},outLogin:function(){c.a.remove("user"),c.a.remove("token"),this.$router.push("/login")}},computed:Object(a["a"])(Object(a["a"])({},Object(o["b"])(["owner"])),{},{paths:function(){for(var t=this.path?this.path.split("/"):[],e=[],n=[],i=0;i<t.length;i++)e.push(t[i]),n.push({name:t[i],path:"/"+this.repo+"/"+e.join("/")});return n}})},k=E,y=Object(f["a"])(k,i,r,!1,null,null,null);e["default"]=y.exports},ed24:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABEElEQVRYR+2XMY7CMBREZ6oV9+AebAqEuQD1IrQUUNFBBVRxvRJUCLbeCywFElQcggNADaL/KFEA0dlxUFw49cz8yZMSfxMlPyx5PvwoMPyXCYlaThonERx0k5M8/pRAVmCcJ+DuEWCpFTu2GYUVSAYLUNeKG5sSxRYg+rrBeWkFjAYTRwj+YsVBoi+UgFGBTCSCSDe5K7PANPlyvCkwI9GzQeiqFWChFb9TAqO1bAF8uoZa+nexYhQKBAKBQCAQCPhBYLiWFYEvy3+5k1yAX63Y9uY4TtZyp63YFocIngtJdiSLbYiLPlZM6T9uRoO9VD4u+CFQdQk28J7OF3TnLV5fChgY3yLx4274llczDL0BUNeZIdtCyrcAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=chunk-8d2e6286.8b9bee7f.js.map